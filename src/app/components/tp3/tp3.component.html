<div class="row" *ngIf="teams && players">
    <table class="table table-striped">
        <thead>
        <tr>
            <th scope="col">Player</th>
            <th scope="col">Jersey number</th>
            <th scope="col">Team</th>
            <th scope="col">Conference</th>
            <th scope="col">Voir joueur</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let p of players">
            <td>{{ p.firstname + ' ' + p.lastname }}</td>
            <td>{{ p.jersey }}</td>
            <td>{{ (p | getTeam: teams).fullname }}</td>
            <td>{{ (p | getTeam: teams).conference }}</td>
            <td>
                <a [routerLink]="['player', p.id]"><fa-icon [icon]="iconEye"></fa-icon></a>
            </td>
        </tr>
        </tbody>
    </table>
</div>

<hr />

<!--<form>
    <div class="form-group">
        <label for="lastname">Firstname</label>
        <input type="text" class="form-control" id="firstname" name="firstname" [(ngModel)]="player.firstname"
               placeholder="Enter the player's firstname" required>
    </div>
    <div class="form-group">
        <label for="lastname">Lastname</label>
        <input type="text" class="form-control" id="lastname" name="lastname" [(ngModel)]="player.lastname"
               placeholder="Enter the player's lastname" required>
    </div>
    <div class="form-group">
        <label for="jerseyNumber">Jersey number</label>
        <input type="number" class="form-control" id="jerseyNumber" name="jerseyNumber" [(ngModel)]="player.jersey"
               placeholder="Number between 0 and 99" min="0" max="99" required>
    </div>
    <div class="form-group">
        <label for="team">Team</label>
        <select class="form-control" id="team" name="team" [(ngModel)]="player.teamId" required>
            <option *ngFor="let t of teams; let i = index"
                    [ngValue]="teams[i].id">{{ t.fullname + ' (' + t.conference + ')'}}</option>
        </select>
    </div>
    <button type="submit" (click)="addPlayer()" class="btn btn-primary">Add player</button>
</form>-->

<form [formGroup]="playerForm" (ngSubmit)="addPlayer()">
    <div class="form-group">
        <label for="lastname">Firstname</label>
        <input type="text" class="form-control" formControlName="firstname" id="firstname" placeholder="Enter the player's firstname">
        <div *ngIf="getFormControl('firstname').invalid && (getFormControl('firstname').dirty || getFormControl('firstname').touched)"
            class="alert alert-danger">
            <div *ngIf="getFormControl('firstname').errors.required">firstname is required.</div>
        </div>
    </div>
    <div class="form-group">
        <label for="lastname">Lastname</label>
        <input type="text" class="form-control" formControlName="lastname" placeholder="Enter the player's lastname">
        <div *ngIf="getFormControl('lastname').invalid && (getFormControl('lastname').dirty || getFormControl('lastname').touched)"
            class="alert alert-danger">
            <div *ngIf="getFormControl('lastname').errors.required">lastname is required.</div>
        </div>
    </div>
    <div class="form-group">
        <label for="jerseyNumber">Jersey number</label>
        <input type="number" class="form-control" formControlName="jersey" placeholder="Number between 0 and 99">
        <div *ngIf="getFormControl('jersey').invalid && (getFormControl('jersey').dirty || getFormControl('jersey').touched)"
            class="alert alert-danger">
            <div *ngIf="getFormControl('jersey').errors.required">jersey is required.</div>
            <div *ngIf="getFormControl('jersey').errors.min || getFormControl('jersey').errors.max">jersey must be a number from 0 to 99.</div>
        </div>
    </div>
    <div class="form-group">
        <label for="team">Team</label>
        <select class="form-control" formControlName="teamId">
            <option *ngFor="let t of teams; let i = index"
            [ngValue]="teams[i].id">{{ t.fullname + ' (' + t.conference + ')'}}</option>
        </select>
        <div *ngIf="getFormControl('teamId').invalid && (getFormControl('teamId').dirty || getFormControl('teamId').touched)"
            class="alert alert-danger">
            <div *ngIf="getFormControl('teamId').errors.required">team is required.</div>
        </div>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!playerForm.valid">Add player</button>
</form>

<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">  
        <p style="color: white">Please Wait. </p>  
        </ngx-spinner>  